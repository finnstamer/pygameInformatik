from base.core.Event.Events import Events
from base.core.Game import Game
from base.core.Level.AbstractLevel import AbstractLevel
from base.core.Level.MapBuilder import MapBuilder
from pygame import Vector2
from base.objects.Enemy import Enemy
from base.objects.Projectile import Projectile
from base.objects.Weapon import Weapon
from objects.collectables.Ektoplasma import Ektoplasma
from objects.player.Player import Player

from objects.wall import Wall
class Level2(AbstractLevel):
    def __init__(self) -> None:
        super().__init__(2)
        Events.subscribe("game.tick", self.onTick)
      
    def onTick(self, e):
      if Game.level() == self:
        l = len(list(map(lambda x: isinstance(x, Ektoplasma), self.objects)))
        if l == 0:
          Game.setLevel(3)

    def make(self):
        mB = MapBuilder()
        player = Player().updatePos(Vector2(490,370))
        projectile = Projectile(range=500, damage=10, speed=20, width=5, height=5, relativePosition=Vector2(75, 3))
        projectile.color = (114, 114, 114)
        weapon = Weapon(player, Vector2(-10, 10), projectile, cooldown=100, munition=50000)
        weapon.color = (29, 191, 172)
        weapon.height = 0
        weapon.width = 0
        weapon.setImage("images/weapon.png")
        weapon.setAlias("weapon")

        enemy = Enemy(Vector2(300, 300), 20, 20, (250, 0, 0))
        enemy.pathPool = [Vector2(400, 400), Vector2(500, 100), Vector2(200, 500)]
        enemy.setAlias("Enemy")


        objects = [
        player, enemy, weapon,
          Wall(Vector2(505,310), width=25, height=50),Wall(Vector2(460,30), width=100, height=50),
          Wall(Vector2(560,80), width=100, height=50),Wall(Vector2(360,80), width=100, height=50),
          Wall(Vector2(260,130), width=100, height=50),Wall(Vector2(660,130), width=100, height=50),
          Wall(Vector2(760,180), width=100, height=50),Wall(Vector2(860,230), width=225, height=50),
          Wall(Vector2(860,330), width=100, height=50),Wall(Vector2(1016,330), width=60, height=50),
          Wall(Vector2(860,430), width=225, height=50),Wall(Vector2(460,630), width=100, height=50),
          Wall(Vector2(360,580), width=100, height=50),Wall(Vector2(560,580), width=100, height=50),
          Wall(Vector2(660,530), width=100, height=50),Wall(Vector2(760,480), width=100, height=50),
          Wall(Vector2(260,530), width=100, height=50),Wall(Vector2(160,480), width=100, height=50),
          Wall(Vector2(150,330), width=100, height=50),Wall(Vector2(160,180), width=100, height=50),
          Wall(Vector2(0,230), width=160, height=50),Wall(Vector2(0,330), width=100, height=50),
          Wall(Vector2(0,430), width=160, height=50),Wall(Vector2(415,430), width=200, height=25),
          Wall(Vector2(400,230), width=75, height=25),Wall(Vector2(570,230), width=75, height=25),
          Wall(Vector2(440,500), width=150, height=15),Wall(Vector2(440,175), width=150, height=15),
          Wall(Vector2(290,285), width=25, height=150),Wall(Vector2(730,285), width=25, height=150),
          Wall(Vector2(350,310), width=25, height=100),Wall(Vector2(670,310), width=25, height=100),
          Wall(Vector2(790,275), width=25, height=175),

           Ektoplasma().updatePos(Vector2([270, 199])),
Ektoplasma().updatePos(Vector2([270, 214])),
Ektoplasma().updatePos(Vector2([270, 229])),
Ektoplasma().updatePos(Vector2([270, 244])),
Ektoplasma().updatePos(Vector2([270, 259])),
Ektoplasma().updatePos(Vector2([270, 274])),
Ektoplasma().updatePos(Vector2([270, 289])),
Ektoplasma().updatePos(Vector2([270, 304])),
Ektoplasma().updatePos(Vector2([270, 319])),
Ektoplasma().updatePos(Vector2([270, 334])),
Ektoplasma().updatePos(Vector2([270, 349])),
Ektoplasma().updatePos(Vector2([270, 364])),
Ektoplasma().updatePos(Vector2([270, 379])),
Ektoplasma().updatePos(Vector2([270, 394])),
Ektoplasma().updatePos(Vector2([270, 409])),
Ektoplasma().updatePos(Vector2([270, 424])),
Ektoplasma().updatePos(Vector2([270, 439])),
Ektoplasma().updatePos(Vector2([270, 454])),
Ektoplasma().updatePos(Vector2([270, 469])),
Ektoplasma().updatePos(Vector2([270, 484])),
Ektoplasma().updatePos(Vector2([270, 499])),
Ektoplasma().updatePos(Vector2([4, 301])),
Ektoplasma().updatePos(Vector2([19, 301])),
Ektoplasma().updatePos(Vector2([34, 301])),
Ektoplasma().updatePos(Vector2([49, 301])),
Ektoplasma().updatePos(Vector2([64, 301])),
Ektoplasma().updatePos(Vector2([79, 301])),
Ektoplasma().updatePos(Vector2([94, 301])),
Ektoplasma().updatePos(Vector2([109, 301])),
Ektoplasma().updatePos(Vector2([124, 301])),
Ektoplasma().updatePos(Vector2([139, 301])),
Ektoplasma().updatePos(Vector2([154, 301])),
Ektoplasma().updatePos(Vector2([169, 301])),
Ektoplasma().updatePos(Vector2([184, 301])),
Ektoplasma().updatePos(Vector2([199, 301])),
Ektoplasma().updatePos(Vector2([214, 301])),
Ektoplasma().updatePos(Vector2([229, 301])),
Ektoplasma().updatePos(Vector2([244, 301])),
Ektoplasma().updatePos(Vector2([166, 253])),
Ektoplasma().updatePos(Vector2([181, 253])),
Ektoplasma().updatePos(Vector2([196, 253])),
Ektoplasma().updatePos(Vector2([211, 253])),
Ektoplasma().updatePos(Vector2([226, 253])),
Ektoplasma().updatePos(Vector2([241, 253])),
Ektoplasma().updatePos(Vector2([200, 268])),
Ektoplasma().updatePos(Vector2([200, 283])),
Ektoplasma().updatePos(Vector2([124, 329])),
Ektoplasma().updatePos(Vector2([124, 344])),
Ektoplasma().updatePos(Vector2([124, 359])),
Ektoplasma().updatePos(Vector2([124, 374])),
Ektoplasma().updatePos(Vector2([124, 389])),
Ektoplasma().updatePos(Vector2([5, 405])),
Ektoplasma().updatePos(Vector2([20, 405])),
Ektoplasma().updatePos(Vector2([35, 405])),
Ektoplasma().updatePos(Vector2([50, 405])),
Ektoplasma().updatePos(Vector2([65, 405])),
Ektoplasma().updatePos(Vector2([80, 405])),
Ektoplasma().updatePos(Vector2([95, 405])),
Ektoplasma().updatePos(Vector2([110, 405])),
Ektoplasma().updatePos(Vector2([125, 405])),
Ektoplasma().updatePos(Vector2([140, 405])),
Ektoplasma().updatePos(Vector2([155, 405])),
Ektoplasma().updatePos(Vector2([170, 405])),
Ektoplasma().updatePos(Vector2([185, 405])),
Ektoplasma().updatePos(Vector2([200, 405])),
Ektoplasma().updatePos(Vector2([215, 405])),
Ektoplasma().updatePos(Vector2([230, 405])),
Ektoplasma().updatePos(Vector2([245, 405])),
Ektoplasma().updatePos(Vector2([203, 422])),
Ektoplasma().updatePos(Vector2([203, 437])),
Ektoplasma().updatePos(Vector2([167, 455])),
Ektoplasma().updatePos(Vector2([182, 455])),
Ektoplasma().updatePos(Vector2([197, 455])),
Ektoplasma().updatePos(Vector2([212, 455])),
Ektoplasma().updatePos(Vector2([227, 455])),
Ektoplasma().updatePos(Vector2([242, 455])),
 Ektoplasma().updatePos(Vector2([271, 514])),
Ektoplasma().updatePos(Vector2([284, 519])),
Ektoplasma().updatePos(Vector2([299, 519])),
Ektoplasma().updatePos(Vector2([314, 519])),
Ektoplasma().updatePos(Vector2([329, 519])),
Ektoplasma().updatePos(Vector2([344, 519])),
Ektoplasma().updatePos(Vector2([359, 519])),
Ektoplasma().updatePos(Vector2([374, 519])),
Ektoplasma().updatePos(Vector2([389, 519])),
Ektoplasma().updatePos(Vector2([404, 519])),
Ektoplasma().updatePos(Vector2([419, 519])),
Ektoplasma().updatePos(Vector2([434, 519])),
Ektoplasma().updatePos(Vector2([449, 519])),
Ektoplasma().updatePos(Vector2([464, 519])),
Ektoplasma().updatePos(Vector2([479, 519])),
Ektoplasma().updatePos(Vector2([494, 519])),
Ektoplasma().updatePos(Vector2([509, 519])),
Ektoplasma().updatePos(Vector2([524, 519])),
Ektoplasma().updatePos(Vector2([539, 519])),
Ektoplasma().updatePos(Vector2([554, 519])),
Ektoplasma().updatePos(Vector2([569, 519])),
Ektoplasma().updatePos(Vector2([584, 519])),
Ektoplasma().updatePos(Vector2([599, 519])),
Ektoplasma().updatePos(Vector2([614, 519])),
Ektoplasma().updatePos(Vector2([629, 519])),
Ektoplasma().updatePos(Vector2([644, 519])),
Ektoplasma().updatePos(Vector2([286, 199])),
Ektoplasma().updatePos(Vector2([301, 199])),
Ektoplasma().updatePos(Vector2([316, 199])),
Ektoplasma().updatePos(Vector2([331, 199])),
Ektoplasma().updatePos(Vector2([346, 199])),
Ektoplasma().updatePos(Vector2([361, 199])),
Ektoplasma().updatePos(Vector2([376, 199])),
Ektoplasma().updatePos(Vector2([391, 199])),
Ektoplasma().updatePos(Vector2([406, 199])),
Ektoplasma().updatePos(Vector2([421, 199])),
Ektoplasma().updatePos(Vector2([436, 199])),
Ektoplasma().updatePos(Vector2([451, 199])),
Ektoplasma().updatePos(Vector2([466, 199])),
Ektoplasma().updatePos(Vector2([481, 199])),
Ektoplasma().updatePos(Vector2([496, 199])),
Ektoplasma().updatePos(Vector2([511, 199])),
Ektoplasma().updatePos(Vector2([526, 199])),
Ektoplasma().updatePos(Vector2([541, 199])),
Ektoplasma().updatePos(Vector2([556, 199])),
Ektoplasma().updatePos(Vector2([571, 199])),
Ektoplasma().updatePos(Vector2([586, 199])),
Ektoplasma().updatePos(Vector2([601, 199])),
Ektoplasma().updatePos(Vector2([616, 199])),
Ektoplasma().updatePos(Vector2([631, 199])),
Ektoplasma().updatePos(Vector2([646, 199])),
Ektoplasma().updatePos(Vector2([661, 199])),
Ektoplasma().updatePos(Vector2([676, 199])),
Ektoplasma().updatePos(Vector2([691, 199])),
Ektoplasma().updatePos(Vector2([706, 199])),
Ektoplasma().updatePos(Vector2([721, 199])),
Ektoplasma().updatePos(Vector2([736, 199])),
Ektoplasma().updatePos(Vector2([382, 152])),
Ektoplasma().updatePos(Vector2([397, 152])),
Ektoplasma().updatePos(Vector2([412, 152])),
Ektoplasma().updatePos(Vector2([427, 152])),
Ektoplasma().updatePos(Vector2([442, 152])),
Ektoplasma().updatePos(Vector2([457, 152])),
Ektoplasma().updatePos(Vector2([472, 152])),
Ektoplasma().updatePos(Vector2([487, 152])),
Ektoplasma().updatePos(Vector2([502, 152])),
Ektoplasma().updatePos(Vector2([517, 152])),
Ektoplasma().updatePos(Vector2([658, 519])),
Ektoplasma().updatePos(Vector2([673, 519])),
Ektoplasma().updatePos(Vector2([688, 519])),
Ektoplasma().updatePos(Vector2([703, 519])),
Ektoplasma().updatePos(Vector2([718, 519])),
Ektoplasma().updatePos(Vector2([733, 519])),
Ektoplasma().updatePos(Vector2([748, 519])),
Ektoplasma().updatePos(Vector2([709, 210])),
Ektoplasma().updatePos(Vector2([709, 225])),
Ektoplasma().updatePos(Vector2([709, 240])),
Ektoplasma().updatePos(Vector2([709, 255])),
Ektoplasma().updatePos(Vector2([709, 270])),
Ektoplasma().updatePos(Vector2([709, 285])),
Ektoplasma().updatePos(Vector2([709, 300])),
Ektoplasma().updatePos(Vector2([709, 315])),
Ektoplasma().updatePos(Vector2([709, 330])),
Ektoplasma().updatePos(Vector2([709, 345])),
Ektoplasma().updatePos(Vector2([709, 360])),
Ektoplasma().updatePos(Vector2([709, 375])),
Ektoplasma().updatePos(Vector2([709, 390])),
Ektoplasma().updatePos(Vector2([709, 405])),
Ektoplasma().updatePos(Vector2([709, 420])),
Ektoplasma().updatePos(Vector2([709, 435])),
Ektoplasma().updatePos(Vector2([709, 450])),
Ektoplasma().updatePos(Vector2([709, 465])),
Ektoplasma().updatePos(Vector2([709, 480])),
Ektoplasma().updatePos(Vector2([709, 495])),
Ektoplasma().updatePos(Vector2([384, 164])),
Ektoplasma().updatePos(Vector2([384, 179])),
Ektoplasma().updatePos(Vector2([531, 153])),
Ektoplasma().updatePos(Vector2([546, 153])),
Ektoplasma().updatePos(Vector2([561, 153])),
Ektoplasma().updatePos(Vector2([576, 153])),
Ektoplasma().updatePos(Vector2([591, 153])),
Ektoplasma().updatePos(Vector2([606, 153])),
Ektoplasma().updatePos(Vector2([621, 153])),
Ektoplasma().updatePos(Vector2([636, 153])),
Ektoplasma().updatePos(Vector2([638, 165])),
Ektoplasma().updatePos(Vector2([638, 180])),
Ektoplasma().updatePos(Vector2([504, 139])),
Ektoplasma().updatePos(Vector2([504, 124])),
Ektoplasma().updatePos(Vector2([468, 97])),
Ektoplasma().updatePos(Vector2([483, 97])),
Ektoplasma().updatePos(Vector2([498, 97])),
Ektoplasma().updatePos(Vector2([513, 97])),
Ektoplasma().updatePos(Vector2([528, 97])),
Ektoplasma().updatePos(Vector2([543, 97])),
Ektoplasma().updatePos(Vector2([408, 530])),
Ektoplasma().updatePos(Vector2([408, 545])),
Ektoplasma().updatePos(Vector2([423, 548])),
Ektoplasma().updatePos(Vector2([438, 548])),
Ektoplasma().updatePos(Vector2([453, 548])),
Ektoplasma().updatePos(Vector2([468, 548])),
Ektoplasma().updatePos(Vector2([483, 548])),
Ektoplasma().updatePos(Vector2([498, 548])),
Ektoplasma().updatePos(Vector2([513, 548])),
Ektoplasma().updatePos(Vector2([528, 548])),
Ektoplasma().updatePos(Vector2([543, 548])),
Ektoplasma().updatePos(Vector2([558, 548])),
Ektoplasma().updatePos(Vector2([573, 548])),
Ektoplasma().updatePos(Vector2([588, 548])),
Ektoplasma().updatePos(Vector2([595, 529])),
Ektoplasma().updatePos(Vector2([507, 563])),
Ektoplasma().updatePos(Vector2([507, 578])),
Ektoplasma().updatePos(Vector2([507, 593])),
Ektoplasma().updatePos(Vector2([507, 608])),
Ektoplasma().updatePos(Vector2([729, 252])),
Ektoplasma().updatePos(Vector2([744, 252])),
Ektoplasma().updatePos(Vector2([759, 252])),
Ektoplasma().updatePos(Vector2([774, 252])),
Ektoplasma().updatePos(Vector2([789, 252])),
Ektoplasma().updatePos(Vector2([804, 252])),
Ektoplasma().updatePos(Vector2([819, 252])),
Ektoplasma().updatePos(Vector2([834, 252])),
Ektoplasma().updatePos(Vector2([769, 266])),
Ektoplasma().updatePos(Vector2([769, 281])),
Ektoplasma().updatePos(Vector2([769, 296])),
Ektoplasma().updatePos(Vector2([769, 311])),
Ektoplasma().updatePos(Vector2([769, 326])),
Ektoplasma().updatePos(Vector2([769, 341])),
Ektoplasma().updatePos(Vector2([769, 356])),
Ektoplasma().updatePos(Vector2([769, 371])),
Ektoplasma().updatePos(Vector2([769, 386])),
Ektoplasma().updatePos(Vector2([769, 401])),
Ektoplasma().updatePos(Vector2([769, 416])),
Ektoplasma().updatePos(Vector2([769, 431])),
Ektoplasma().updatePos(Vector2([720, 459])),
Ektoplasma().updatePos(Vector2([735, 459])),
Ektoplasma().updatePos(Vector2([750, 459])),
Ektoplasma().updatePos(Vector2([765, 459])),
Ektoplasma().updatePos(Vector2([780, 459])),
Ektoplasma().updatePos(Vector2([795, 459])),
Ektoplasma().updatePos(Vector2([810, 459])),
Ektoplasma().updatePos(Vector2([825, 459])),
Ektoplasma().updatePos(Vector2([840, 459])),
Ektoplasma().updatePos(Vector2([837, 275])),
Ektoplasma().updatePos(Vector2([837, 290])),
Ektoplasma().updatePos(Vector2([837, 305])),
Ektoplasma().updatePos(Vector2([837, 320])),
Ektoplasma().updatePos(Vector2([837, 335])),
Ektoplasma().updatePos(Vector2([837, 350])),
Ektoplasma().updatePos(Vector2([837, 365])),
Ektoplasma().updatePos(Vector2([837, 380])),
Ektoplasma().updatePos(Vector2([837, 395])),
Ektoplasma().updatePos(Vector2([837, 410])),
Ektoplasma().updatePos(Vector2([837, 425])),
Ektoplasma().updatePos(Vector2([860, 299])),
Ektoplasma().updatePos(Vector2([875, 299])),
Ektoplasma().updatePos(Vector2([890, 299])),
Ektoplasma().updatePos(Vector2([905, 299])),
Ektoplasma().updatePos(Vector2([920, 299])),
Ektoplasma().updatePos(Vector2([935, 299])),
Ektoplasma().updatePos(Vector2([950, 299])),
Ektoplasma().updatePos(Vector2([965, 299])),
Ektoplasma().updatePos(Vector2([980, 299])),
Ektoplasma().updatePos(Vector2([995, 299])),
Ektoplasma().updatePos(Vector2([1010, 299])),
Ektoplasma().updatePos(Vector2([1025, 299])),
Ektoplasma().updatePos(Vector2([1040, 299])),
Ektoplasma().updatePos(Vector2([1055, 299])),
Ektoplasma().updatePos(Vector2([863, 402])),
Ektoplasma().updatePos(Vector2([878, 402])),
Ektoplasma().updatePos(Vector2([893, 402])),
Ektoplasma().updatePos(Vector2([908, 402])),
Ektoplasma().updatePos(Vector2([923, 402])),
Ektoplasma().updatePos(Vector2([938, 402])),
Ektoplasma().updatePos(Vector2([953, 402])),
Ektoplasma().updatePos(Vector2([968, 402])),
Ektoplasma().updatePos(Vector2([983, 402])),
Ektoplasma().updatePos(Vector2([998, 402])),
Ektoplasma().updatePos(Vector2([1013, 402])),
Ektoplasma().updatePos(Vector2([1028, 402])),
Ektoplasma().updatePos(Vector2([1043, 402])),
Ektoplasma().updatePos(Vector2([1058, 402])),
Ektoplasma().updatePos(Vector2([984, 326])),
Ektoplasma().updatePos(Vector2([984, 341])),
Ektoplasma().updatePos(Vector2([984, 356])),
Ektoplasma().updatePos(Vector2([984, 371])),
Ektoplasma().updatePos(Vector2([486, 240])),
Ektoplasma().updatePos(Vector2([501, 240])),
Ektoplasma().updatePos(Vector2([516, 240])),
Ektoplasma().updatePos(Vector2([531, 240])),
Ektoplasma().updatePos(Vector2([546, 240])),
Ektoplasma().updatePos(Vector2([657, 240])),
Ektoplasma().updatePos(Vector2([672, 240])),
Ektoplasma().updatePos(Vector2([687, 240])),
Ektoplasma().updatePos(Vector2([676, 256])),
Ektoplasma().updatePos(Vector2([676, 271])),
Ektoplasma().updatePos(Vector2([676, 286])),
Ektoplasma().updatePos(Vector2([681, 420])),
Ektoplasma().updatePos(Vector2([681, 435])),
Ektoplasma().updatePos(Vector2([681, 450])),
Ektoplasma().updatePos(Vector2([681, 465])),
Ektoplasma().updatePos(Vector2([681, 480])),
Ektoplasma().updatePos(Vector2([686, 498])),
Ektoplasma().updatePos(Vector2([671, 498])),
Ektoplasma().updatePos(Vector2([656, 498])),
Ektoplasma().updatePos(Vector2([641, 498])),
Ektoplasma().updatePos(Vector2([626, 498])),
Ektoplasma().updatePos(Vector2([611, 498])),
Ektoplasma().updatePos(Vector2([390, 240])),
Ektoplasma().updatePos(Vector2([375, 240])),
Ektoplasma().updatePos(Vector2([360, 242])),
Ektoplasma().updatePos(Vector2([360, 257])),
Ektoplasma().updatePos(Vector2([360, 272])),
Ektoplasma().updatePos(Vector2([360, 287])),
Ektoplasma().updatePos(Vector2([360, 415])),
Ektoplasma().updatePos(Vector2([360, 430])),
Ektoplasma().updatePos(Vector2([362, 445])),
Ektoplasma().updatePos(Vector2([362, 460])),
Ektoplasma().updatePos(Vector2([362, 475])),
Ektoplasma().updatePos(Vector2([362, 490])),
Ektoplasma().updatePos(Vector2([431, 504])),
Ektoplasma().updatePos(Vector2([416, 504])),
Ektoplasma().updatePos(Vector2([401, 504])),
Ektoplasma().updatePos(Vector2([386, 504])),
Ektoplasma().updatePos(Vector2([371, 504])),
Ektoplasma().updatePos(Vector2([402, 286])),
Ektoplasma().updatePos(Vector2([417, 286])),
Ektoplasma().updatePos(Vector2([432, 286])),
Ektoplasma().updatePos(Vector2([403, 302])),
Ektoplasma().updatePos(Vector2([418, 302])),
Ektoplasma().updatePos(Vector2([433, 302])),
Ektoplasma().updatePos(Vector2([403, 320])),
Ektoplasma().updatePos(Vector2([418, 320])),
Ektoplasma().updatePos(Vector2([433, 320])),
Ektoplasma().updatePos(Vector2([576, 291])),
Ektoplasma().updatePos(Vector2([591, 291])),
Ektoplasma().updatePos(Vector2([606, 291])),
Ektoplasma().updatePos(Vector2([578, 311])),
Ektoplasma().updatePos(Vector2([593, 311])),
Ektoplasma().updatePos(Vector2([608, 311])),Ektoplasma().updatePos(Vector2([578, 327])),
Ektoplasma().updatePos(Vector2([593, 327])),
Ektoplasma().updatePos(Vector2([608, 327])),
Ektoplasma().updatePos(Vector2([420, 346])),
Ektoplasma().updatePos(Vector2([420, 361])),
Ektoplasma().updatePos(Vector2([420, 376])),
Ektoplasma().updatePos(Vector2([420, 391])),
Ektoplasma().updatePos(Vector2([436, 390])),
Ektoplasma().updatePos(Vector2([451, 390])),
Ektoplasma().updatePos(Vector2([466, 390])),
Ektoplasma().updatePos(Vector2([597, 344])),
Ektoplasma().updatePos(Vector2([597, 359])),
Ektoplasma().updatePos(Vector2([597, 374])),
Ektoplasma().updatePos(Vector2([597, 389])),
Ektoplasma().updatePos(Vector2([587, 391])),
Ektoplasma().updatePos(Vector2([572, 391])),
Ektoplasma().updatePos(Vector2([557, 391])),




          ]
        
        
        
        
        
        
        
        
        
        
        
        mB.addObject(*objects)
        self.add(*mB.objects)